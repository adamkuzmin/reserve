import React, { useEffect } from "react";
import Head from "next/head";

import { useStore } from "../../Store/useStore";

import { projectData } from "../ProjectsLayout/data/data";

const PageHead = () => {
  const pageTitle = useStore((state) => state.pageTitle);

  return (
    <Head>
      <title>ТПО «РЕЗЕРВ»{pageTitle && ` — ${pageTitle}`}</title>
      <meta name="description" content="Generated by create next app" />
      <link rel="icon" href="/favicon.ico" />

      <link rel="preload" as="image" href={`/icons/navlogo-black.png`}></link>
      <link rel="preload" as="image" href={`/icons/navlogo-white.png`}></link>

      <link rel="preload" as="image" href={`/carousel/1.jpg`}></link>

      {projectData.splice(0, 9).map(({ coverhor, coververt }, i) => {
        const metaSrcHot = `/projects/Frame%20${coverhor}.jpg`;
        const metaSrcVert = `/projects/Frame%20${coververt}.jpg`;

        return (
          <React.Fragment key={`linkg${i}`}>
            <link rel="preload" as="image" href={metaSrcHot}></link>
            <link rel="preload" as="image" href={metaSrcVert}></link>
          </React.Fragment>
        );
      })}
    </Head>
  );
};

export default PageHead;
